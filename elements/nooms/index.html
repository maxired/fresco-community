<html>
    <style>
        html, body {
            background-color: transparent;
        }
        .pipe-front, .pipe-back {
            position: absolute;
            top: -40px;
            left: 20;
            background-size: contain;
            background-repeat: no-repeat;
            width: 135px;
            height: 200px;
        }

        .pipe-front {
            background-image: url('./assets/PipeFront.png');
        }
        .pipe-back {
            background-image: url('./assets/PipeBack.png');
        }

        .noom {
            position: absolute;
            top: 35;
            left: 50;
            width: 70;
            height: 70;
            background-image: url('./assets/Bodies/Noom_01.png');
            background-size: contain;
            background-color: transparent;
            border: 0;
        }
    </style>
 <script src='../../loadSdk.js' ></script>
<script>
let click = 0;
function RandomAvatar(){

fresco.send({
            type: 'extension/out/redux',
            payload: {
                senderId: fresco.element.id,
                action: {
                    userId: undefined,
                    type: 'PASTE_ITEMS',
                    payload: { "diagramId":"noomlab",
                    "json": JSON.stringify({
                        "visuals":[     
    {
        "id": "MptkC0srl3oAXB1FoI0H0" + Date.now(),
        "isLocked": false,
        "zIndex": 98,
        "layer": 0,
        "renderer": "IFrame",
        "transform": {
            "position": {
                "x": 410,
                "y": 610
            },
            "size": {
                "x": 140,
                "y": 160
            },
            "rotation": 0
        },
        "appearance": {
            "NAME":  "",
            "TEXT_BEHAVIOUR": 2,
            "SOURCE": "https://localhost:8080/elements/nooms/noom.html",
            "PINNED": false,
            "TEXT_DISABLED": true,
            "STROKE_COLOR": 13224393,
            "BACKGROUND_COLOR": "",
            "STROKE_THICKNESS": 0,
            "BORDER_RADIUS": 10,
            "ACTION": "",
            "IMAGE_TILED": false
        }
    }
],"groups":[]})
                        ,"x":200 + Math.random() * 400,"y":-200 + Math.random() * 400,"deltaX":0,"deltaY":0 }
                }
                
            }
        });

}
function RandomColor(){

fresco.send({
            type: 'extension/out/redux',
            payload: {
                senderId: fresco.element.id,
                action: {
                    userId: undefined,
                    type: 'UPDATE_LOCAL_PARTICIPANT',
                    payload: { color: `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`
 }
                }
            }
        });

}


fresco.onReady(() => {
})
</script>
<body style="background-color:transparent;">
    <div class='pipe-back' ></div>
    <div class='pipe-front'></div>

    <div class='noom' ></div>
    
<button class='noom'  onclick="RandomAvatar()"></button>
</body>
</html>
